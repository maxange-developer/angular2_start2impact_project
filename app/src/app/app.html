<!-- Main application container with full-height layout -->
<div class="app-container">
  <!-- Top navigation toolbar with branding, search, and language selector -->
  <p-toolbar class="app-toolbar">
    <div class="toolbar-content">
      <!-- Application branding section with icon and title -->
      <div class="app-branding">
        <i class="pi pi-sparkles app-icon"></i>
        <span class="app-title">{{ translationService.t().home.title }}</span>
      </div>

      <!-- Integrated search bar for global fruit searching -->
      <div class="navbar-search">
        <p-iconField iconPosition="left" class="search-field">
          <p-inputIcon>
            <i class="pi pi-search"></i>
          </p-inputIcon>
          <input
            type="text"
            pInputText
            [(ngModel)]="searchTerm"
            (input)="onSearchInput(searchTerm())"
            [placeholder]="translationService.t().search.placeholder"
            class="search-input"
          />
        </p-iconField>
      </div>

      <!-- Toolbar action buttons including language selector -->
      <div class="toolbar-actions">
        <app-language-selector></app-language-selector>
      </div>
    </div>
  </p-toolbar>

  <!-- Main content area containing the fruit list -->
  <main class="main-content">
    <!-- Primary content container with responsive layout -->
    <div class="content-container">
      <!-- Fruit list component with event handling for selection and search reset -->
      <app-fruit-list
        (fruitSelected)="onFruitSelected($event)"
        (searchReset)="onSearchReset()"
      >
      </app-fruit-list>
    </div>
  </main>

  <!-- Modal dialog for displaying detailed fruit information -->
  <p-dialog
    [(visible)]="displayDetailDialog"
    [modal]="true"
    [draggable]="false"
    [resizable]="false"
    [closable]="false"
    [closeOnEscape]="true"
    [showHeader]="false"
    [style]="{ width: '90vw', maxWidth: '900px' }"
    styleClass="fruit-detail-dialog"
    (onHide)="onDetailDialogClose()"
  >
    <!-- Conditional rendering of fruit detail component when fruit is selected -->
    @if (selectedFruit()) {
    <app-fruit-detail
      [fruit]="selectedFruit()!"
      (closeDialog)="onDetailDialogClose()"
    ></app-fruit-detail>
    }
  </p-dialog>

  <!-- Application footer with credits and external links -->
  <footer class="app-footer">
    <div class="footer-content">
      <p>&copy; 2025 Fruity Nutrition App. Powered by FruityVice API</p>
      <div class="footer-links">
        <!-- External link to API source documentation -->
        <p-button
          label="API Source"
          icon="pi pi-external-link"
          [text]="true"
          styleClass="footer-button"
        ></p-button>
        <!-- Link to project repository -->
        <p-button
          label="GitHub"
          icon="pi pi-github"
          [text]="true"
          styleClass="footer-button"
        ></p-button>
      </div>
    </div>
  </footer>

  <!-- Toast notification system for user feedback messages -->
  <p-toast></p-toast>
</div>

<!-- Router outlet for future routing implementations -->
<router-outlet />
